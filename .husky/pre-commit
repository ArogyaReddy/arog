echo ""
echo "üõ°Ô∏è  Running THE ONE-THING Guardian before commit..."
echo ""

# Run THE ONE-THING
npm run one-thing

# Capture exit code
GUARDIAN_EXIT=$?

if [ $GUARDIAN_EXIT -ne 0 ]; then
  echo ""
  echo "‚ùå THE ONE-THING Guardian detected issues!"
  echo "üìÑ Review: docs/one-thing-report.html"
  echo ""
  echo "Options:"
  echo "  1. Fix the issues and try again"
  echo "  2. Skip validation: git commit --no-verify"
  echo ""
  exit 1
fi

echo ""
echo "‚úÖ THE ONE-THING Guardian passed! Proceeding with commit..."
echo ""

